<template>
    <lightning-card title="Opportunities By Stage" class="slds-var-p-around_x-small" >
        <lightning-combobox class="slds-var-p-around_medium" style="width: 300;" label="Stage Name" name="StageName" value={selectedStage} options={opptyStageOptions} onchange={handleChange}></lightning-combobox>
        
        <lightning-input class="slds-var-p-around_medium" label="Show CloseDate" type="checkbox" checked={showClosedDate} onchange={handleColumnChange} ></lightning-input>
            <template lwc:if={opptyRecs}>
                <div class="lds-var-p-around_medium"> 
                    <lightning-datatable key-field="Id" data={opptyRecs} columns={columns} hide-checkbox-column sorted-by={sortBy} sorted-direction={sortDirection} onsort={handleSortChange}></lightning-datatable>
                </div>
            </template>
            <template lwc:else>
                <div class="lds-var-p-around_medium slds-text-align_center "> 
                    No Records to display
                </div>
            </template>
      

    </lightning-card>
</template>